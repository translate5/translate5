/*
 * File: app/controller/Global.js
 *
 * This file was generated by Sencha Architect
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Erp.controller.Global', {
    extend: 'Ext.app.Controller',

    listen: {
        controller: {
            '*': {
                addPo: 'onAddPo'
            }
        },
        component:{
            //when user types right arrow key or space in datefield then we autofill the datefield value with current date
            'datefield':{
                keyup:function(field,e,eOpts){
                    if((!field.getRawValue() || field.getRawValue().trim()=="") && (e.keyCode == e.RIGHT ||  e.keyCode ==e.SPACE)) {
                        field.setValue(new Date());
                    }
                }
            }
        }
    },
    refs: {
        mainTabPanel: '#mainTabPanel',
        poPanel: '#mainTabPanel purchaseorderspanel'
    },

    onAddPo: function(project) {
        var poWin = Ext.widget('purchaseorderscreatewindow',{
            project: project,
            autoShow: true
        });
    }

});
