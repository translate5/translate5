/*
 * File: app.js
 *
 * This file was generated by Sencha Architect version 3.2.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

// @require @packageOverrides
Ext.Loader.setConfig({
    enabled:true
});

Ext.Loader.setPath('Erp.plugins', Erp.data.pluginFolder);

Ext.application({

    requires: [
        'Erp.MessageBox',
        'Erp.controller.ServerException'
    ],
    models: [
        'Project',
        'Customer',
        'PurchaseOrder',
        'Vendor',
        'CommentBase'
    ],
    stores: [
        'Projects'
    ],
    views: [
        'MyViewport',
        'Header',
        'project.Panel',
        'customer.Panel',
        'project.Form',
        'purchaseOrders.Panel',
        'purchaseOrders.Form',
        'purchaseOrders.CreateWindow',
        'comment.Panel',
        'comment.Column'
    ],
    controllers: Erp.data.app.controllers,

    name: 'Erp',
    appFolder : Erp.data.appFolder,
    init: function() {
        Ext.enableAria = false;
        //enable json in our REST interface
        Ext.Ajax.setDefaultHeaders({
            'Accept': 'application/json'
        });
        //init the plugins namespace
        Ext.ns('Erp.plugins');
        this.callParent(arguments);
    },

    logout: function() {
        window.location = Erp.data.loginUrl;
    },

    switchToUseradmin: function() {
        window.location = Erp.data.useradminUrl;
    },

    switchToTaskoverview: function() {
        window.location = Erp.data.editorUrl;
    },

    launch: function() {
        Ext.create('Erp.view.MyViewport');
    }

});
