#php_value session.auto_start 0
Options -Indexes
RewriteEngine On
#RewriteRule ^v-[0-9]\.[0-9]\.[0-9]/(.*)$ $1 [NC,L]

# current open task: remove the current opened task from URL (and place it in currentTaskId), so that resources (JS, CSS) are loaded properly
RewriteRule ^editor/taskid/([0-9]+)/(.*)$ $2?currentTaskId=$1 [NC,L,QSA]

RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d 
RewriteRule ^.*$ - [NC,L]

#files tried to be loaded from reference HTML files are not piped through PHP
RewriteCond %{REQUEST_URI} editor/referencefile/
RewriteCond %{HTTP_REFERER} editor/referencefile/.*\.html$ 
RewriteRule ^.*$ - [NC,L]

# Add trailing slash on editor
RewriteRule ^((.*/)?editor)$ /$1/ [L,R]

RewriteRule ^.*$ index.php [NC,L]
